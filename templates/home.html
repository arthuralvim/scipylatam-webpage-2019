{%- extends "layout.html" -%} {%- from "macros/background.html" import
render_background -%} {%- from "macros/social.html" import render_social -%} {%-
from "macros/translation.html" import transbag -%} {%- set t_call_for_proposals
= transbag('translate', this.alt, 'call_for_proposals') -%} {%- set t_date =
transbag('translate', this.alt, 'date') -%}
{%- set t_keynotes = transbag('translate', this.alt, 'keynotes') -%}
{%- set t_sponsors = transbag('translate', this.alt, 'sponsors') -%}
{%- set t_venue = transbag('translate', this.alt, 'venue') -%}
{%- set t_subscribe = transbag('translate', this.alt, 't_subscribe') -%}
{%- set t_subscribe_name = transbag('translate', this.alt, 't_subscribe_name') -%}
{%- set t_subscribe_email = transbag('translate', this.alt, 't_subscribe_email') -%}
{%- set t_subscribe_button = transbag('translate', this.alt, 't_subscribe_button') -%}
{%- set venue = site.get('/venue',
alt=this.alt) -%} {% block title %}{{ this.title }}{% endblock %} {% block body
%}

{%- set t_days = transbag('translate', this.alt, 'days') -%}
{%- set t_hours = transbag('translate', this.alt, 'hours') -%}
{%- set t_minutes = transbag('translate', this.alt, 'minutes') -%}
{%- set t_seconds = transbag('translate', this.alt, 'seconds') -%}

<div class="container">
  {{ render_background(background='landing', alt=this.alt) }}
  <main class="landing content">
    <div class="logo-wrapper">
      <img
        class="logo"
        src="{{ '/static/images/logo.svg' | asseturl }}"
        alt="logo"
      />
    </div>
    <div class="text">
      <h1 class="header-1">{{ t_date }}</h1>
      <h2 class="header-2">{{ venue.location }}</h2>
      <h2 class="header-2">{{ venue.name }}</h2>
      <p class="paragraph">
        {{ this.body }}
      </p>
    </div>
    {%- if 'call_for_proposals' in this.sections -%}
    <a
      class="button-red cp-button"
      href="{{ this.call_for_proposals }}"
      aria-label="Application Form Link"
    >
      {{ t_call_for_proposals | upper }}
    </a>
    {%- endif -%}


    <div class="countdown">
      <div class="countdown-number">
        <span id="countdown-days"></span>
        <span id="countdown-hours"></span>
        <span id="countdown-minutes"></span>
        <span id="countdown-seconds"></span>
      </div>
      <div class="countdown-label">
        <span>{{ t_days }}</span>
        <span>{{ t_minutes }}</span>
        <span>{{ t_hours }}</span>
        <span>{{ t_seconds }}</span>
      </div>
    </div>
  </main>
</div>
<div class="container">
  {{ render_background(background='color', color='#2811CE') }}
  <div class="speakers-landing content">
    <h1>{{ t_keynotes|upper }}</h1>
    <div class="speakers-container">
      {% for speaker in site.query('/speakers', alt=this.alt).order_by('+order') %} {% if
      speaker.keynote %}
      <div class="speaker__card">
        <div class="speaker__card-wrapper">
          <img
            class="speaker__card-photo"
            src="{{ speaker|url(alt='es')|replace('/en', '') + speaker.image }}"
            alt="Speaker photo: {{ speaker.name + ' ' + speaker.last_name }}"
          />
          <img
            class="speaker__card-background"
            src="{{ '/static/images/speaker-background.svg' | asseturl }}"
            alt="Speaker background"
          />
        </div>
        <span class="speaker__card-name">{{
        speaker.name | upper + " " + speaker.last_name | upper
        }}</span>
        <span class="speaker__card-description">{{
          speaker.short_description
        }}</span>
        <span class="speaker__card-company">{{ speaker.company }}</span>
        {{ render_social(speaker) }}
      </div>
      {% endif %} {% endfor %}
    </div>
  </div>
</div>
<div class="container">
  {{ render_background(background='landing-venue') }}
  <div class="venue-landing content">
    <h1>{{ t_venue|upper }}</h1>
    <div class="venue-landing__map-container">
      <div class="venue-landing__map"></div>
      <div class="venue-landing__description">
        <h2>{{ venue.name }}</h2>
        <h3>{{ venue.location }}</h2>
        <h4>{{ venue.address }}</h2>
        <a
          class="button-red google-button"
          href="{{ venue.cta_link }}"
        >
          {{ venue.cta | upper }}
        </a>
      </div>
    </div>
  </div>
</div>
<div class="container">
  {{ render_background(background='color', color='#FFF') }}
  <div class="sponsors-landing content">
    <h1>{{ t_sponsors|upper }}</h1>
    <div class="sponsors-container">
      {% for category in ['Platinum'] %}
      {%- set t_cat = transbag('translate', this.alt, category|lower) -%}
      <div class="sponsors__category-left">
        <h2 class="sponsors__category-name">{{ t_cat }}</h2>
      </div>
      <div class="sponsors__category-logos">
        {% for sponsor in site.query('/sponsors', alt=this.alt) %} {%
        if sponsor.category == category%}
        <div>
          <img
            class="sponsors__category-logo"
            src="{{ sponsor|url(alt='es')|replace('/en', '') + sponsor.logo }}"
            alt="{{ sponsor.name }} Logo"
          />
        </div>
        {% endif %} {% endfor %}
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<div class="container">
    {{ render_background(background='landing-subscribe', color='#FCD116') }}
    <div class="subscribe-landing content">
      <h1>{{ t_subscribe }}</h1>
      <form>
        <input type="text" placeholder="{{ t_subscribe_name }}">
        <input type="email" placeholder="{{ t_subscribe_email }}">
        <input type="submit" class="button-red" value="{{ t_subscribe_button }}">
      </form>
    </div>
  </div>
{% endblock %}

{% block bottom_scripts %}

{{ super() }}

<!-- Scripts: Countdown -->
<script>
  // Set the date we're counting down to
  {% set start_date = site.get('/').date_start %}
  var countDownDate = new Date("{{ start_date }}").getTime();

  // Update the count down every 1 second
  var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Display the result in the element with id="coutndown-xxx"
  document.getElementById("countdown-days").innerHTML = days
  document.getElementById("countdown-hours").innerHTML = hours
  document.getElementById("countdown-minutes").innerHTML = minutes
  document.getElementById("countdown-seconds").innerHTML = seconds

  // If the count down is finished, write some text
  if (distance < 0) {
  clearInterval(x);
  document.getElementById("countdown").innerHTML = "";
  }
  }, 1000);

  function initMap() {
    // The location of Uluru
    var uluru = {lat: 4.6027, lng: -74.0649};
    // The map, centered at Uluru
    var map = new google.maps.Map(
        document.querySelector('.venue-landing__map'),
        {zoom: 17, center: uluru});
    // The marker, positioned at Uluru
    var marker = new google.maps.Marker({position: uluru, map: map});
  }
</script>
<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAveCgjsAZGTPaV-q2XO60CFxJNsR0wlQM&callback=initMap">
</script>
{% endblock %}